/*! test-suit 2015-04-01 */
"use strict";angular.module("suit.directives.blocks",[]).directive("plainTextSuitAnswerBlock",function(a,b){return{restrict:"E",replace:!0,scope:{nonCompiled:"@nonCompiled",blockId:"@blockId",dataType:"@blockDataType",blockType:"@blockType",directiveType:"@blockDirectiveType",dataShepard:"=shepard"},templateUrl:"plainTextSuiteAnswer.html",controller:function(b){if("true"===b.nonCompiled)b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block);else if(b.dataShepard.isPreCompiled()===!0){var c=b.dataShepard.get(b.blockId);b.block=c}else b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block)},link:function(a,c,d){a.blockEvents={remove:function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()}},a.$on("destroy-directive",function(d,e){b(function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()},500)})}}}).directive("codeSuitAnswerBlock",function(a,b){return{restrict:"E",replace:!0,scope:{nonCompiled:"@nonCompiled",blockId:"@blockId",dataType:"@blockDataType",blockType:"@blockType",directiveType:"@blockDirectiveType",dataShepard:"=shepard"},templateUrl:"codeSuiteAnswer.html",controller:function(b){if("true"===b.nonCompiled)b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block);else if(b.dataShepard.isPreCompiled()===!0){var c=b.dataShepard.get(b.blockId);b.block=c}else b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block)},link:function(a,c,d){a.blockEvents={remove:function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()}},a.$on("destroy-directive",function(d,e){b(function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()},500)})}}}).directive("plainTextSuitBlock",function(a,b){return{restrict:"E",replace:!0,scope:{nonCompiled:"@nonCompiled",blockId:"@blockId",dataType:"@blockDataType",blockType:"@blockType",directiveType:"@blockDirectiveType",dataShepard:"=shepard"},templateUrl:"plainTextSuite.html",controller:function(b){if("true"===b.nonCompiled)b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block);else if(b.dataShepard.isPreCompiled()===!0){var c=b.dataShepard.get(b.blockId);b.block=c}else b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block)},link:function(a,c,d){a.blockEvents={remove:function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()}},a.$on("destroy-directive",function(d,e){b(function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()},500)})}}}).directive("codeBlockSuite",function(a,b){return{restrict:"E",replace:!0,scope:{nonCompiled:"@nonCompiled",blockId:"@blockId",dataType:"@blockDataType",blockType:"@blockType",directiveType:"@blockDirectiveType",dataShepard:"=shepard"},templateUrl:"codeBlockSuite.html",controller:function(b){if("true"===b.nonCompiled)b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block);else if(b.dataShepard.isPreCompiled()===!0){var c=b.dataShepard.get(b.blockId);b.block=c}else b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block)},link:function(a,c,d){{var e=ace.edit(c.find(".AceEditor").get(0));e.getSession()}e.getSession().setMode("ace/mode/javascript"),e.renderer.setShowGutter(!0),e.setFontSize(18),e.setHighlightActiveLine(!0),e.setWrapBehavioursEnabled(!0),e.setOption("firstLineNumber",1),e.setValue(a.block.data.data),e.on("change",function(b){a.block.data.data=e.getValue(),a.dataShepard.update(a.block.blockId,a.block)}),a.blockEvents={remove:function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()}},a.$on("destroy-directive",function(d,e){b(function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()},500)})}}}).directive("genericBlockSuit",function(a,b){return{restrict:"E",scope:{nonCompiled:"@nonCompiled",blockId:"@blockId",dataType:"@blockDataType",blockType:"@blockType",directiveType:"@blockDirectiveType",dataShepard:"=shepard"},templateUrl:"selectBlockSuit.html",controller:function(b){if("true"===b.nonCompiled)b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block);else if(b.dataShepard.isPreCompiled()===!0){var c=b.dataShepard.get(b.blockId);b.block=c}else b.block=a.createType(b.blockId,b.dataType,b.blockType,b.directiveType),b.dataShepard.add(b.block.blockId,b.block)},link:function(a,c,d){"true"===a.nonCompiled&&(a.block.data.data[a.block.data.data.length]=""),a.blockEvents={remove:function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()},addSelectBox:function(){a.block.data.data[a.block.data.data.length]=""}},a.$on("destroy-directive",function(d,e){b(function(){a.dataShepard.remove(a.block.blockId),a.$destroy(),c.remove()},500)})}}});